(function(a){var b=function(d,f){var s=a(d);var n=this;var m={current:1,prev:"&laquo;",next:"&raquo;",type:"slide",autoplayInterval:7000,animationInterval:800,dotRatio:0.02,loader:"ajax-loader.gif",customAnimationClassIn:"",customAnimationClassOut:"",customAnimationCaption:"",captionAnimationInterval:100,captionFontRatio:0.15,width:0,height:0};f=a.extend(m,f);var p=f.current;var j=s.find("li").length;var e;var c;var o=s.find("ul");o.hide();s.append("<p class='preload'><img src='"+f.loader+"' border=0/>Loading Images</p>");s.find(".preload").css({position:"absolute",top:"48%",left:"35%",backgroudColor:"#fff",textAlign:"center",color:"#000",padding:"0.5em"}).show();var i=function(){var u=s.find("ul").find("li");u.each(function(){if(a(this).find("img").attr("caption")){var v=a(this).find("img").attr("caption");a(this).append("<div class='caption'></div>");a(this).find(".caption").css({left:a(this).position().left+a(this).width()+a(this).find(".caption").width()+"px",width:100/j+"%","word-wrap":"break-word"}).html(v).hide();}});};var t=function(y){var v=s.find("li:nth-child("+y+")");var x=v.find(".caption");var u=100/j;if(x.hasClass("animated")){x.removeClass("animated").removeClass(f.customAnimationCaption);}if(f.customAnimationCaption!=""){var w=v.position().left;v.find(".caption").css({left:w+"px",fontSize:s.width()*f.captionFontRatio+"%"});v.find(".caption").addClass(f.customAnimationCaption).addClass("animated").show();}else{v.find(".caption").css({left:101+"%",fontSize:s.width()*f.captionFontRatio+"%"}).show().animate({left:(f.current*u-u)+"%"},1500);}};var q=function(w){if(w==f.current){return false;}if(f.customAnimationClassIn!=""||f.customAnimationClassOut!=""){var u=o.find("li:nth-child("+f.current+")");var v=o.find("li:nth-child("+w+")");v.css({left:0,display:"block"});u.removeClass().addClass("animated").addClass(f.customAnimationClassOut);setTimeout(function(){u.hide();v.removeClass().addClass("animated").addClass(f.customAnimationClassIn);},1000);}else{u.fadeOut("fast");v.fadeIn("slow");}f.current=w;if(f.current>j){f.current=1;}l();k();};var h=function(v){var u=o.find("li:nth-child("+f.current+")");var w=o.find("li:nth-child("+v+")");u.fadeOut("fast");w.fadeIn("slow");f.current=v;if(f.current>j){f.current=1;}l();k();};this.scrollTo=function(y){if(f.type=="slide"){var w=y;var u=o.find("li:nth-child("+w+")");if(f.current==w){return false;}var x=(w*100)-100;x=x*-1;var v=u.find("img").attr("caption");a(".caption").hide();u.find(".caption").html(v);o.animate({left:x+"%"},f.animationInterval);f.current=w;if(f.current>j){f.current=j;}l();k();}else{if(f.type=="rotate"){h(y);}else{if(f.type=="custom"){q(y);}else{h(y);}}}setTimeout(function(){t(y);},f.captionAnimationInterval*f.current);};var k=function(){e.find(".nav").removeClass("selected");e.find(".nav:nth-child("+(f.current+1)+")").addClass("selected");};var g=function(){var u=f.current+1;if(u>j){u=1;}n.scrollTo(u);};var l=function(){if(f.current<=1){s.find(".nav_left").hide();return false;}if(f.current>=j){s.find(".nav_right").hide();return false;}s.find(".nav_left").show();s.find(".nav_right").show();};var r=function(){s.addClass("tiksluscarousel").css({position:"relative",height:"auto"});if(f.width>0){s.css({"max-width":f.width+"px"});o.find("img").css({"max-width":f.width+"px",width:"100%",height:"auto"});}o.css({width:100*j+"%",height:"100%"});o.find("li").css({width:100/j+"%",height:"100%"});s.append("<div class='slider_nav'><ul></ul></div>");s.append("<div class='nav_left'><span>"+f.prev+"</span></div><div class='nav_right'><span>"+f.next+"</span></div>");e=s.find(".slider_nav");for(var v=0;v<j;v++){s.find(".slider_nav").append("<div class='nav'></div>");s.find(".slider_nav").find(".nav").css({width:s.width()*f.dotRatio+"px",height:s.width()*f.dotRatio+"px"});}var u=s.find(".slider_nav");u.css("right","1%");s.find(".nav_left").css({left:"1%",top:"45%"});s.find(".nav_right").css({right:"1%",top:"45%"});a(".slider_nav").hide();a(".nav_left").hide();a(".nav_right").hide();o.find("img").each(function(w){var x=new Image();x.src=a(this).attr("src");x.onload=function(){};});s.find(".preload").remove();o.show();a(".slider_nav").show();a(".nav_left").show();a(".nav_right").show();i();if(f.current>=1){if(f.type=="slide"){o.css({left:((p*100)-100)*-1+"%"});}else{s.find("ul").find("li").hide();s.find("ul").find("li:nth-child("+p+")").fadeIn("fast");}}k();l();c=setInterval(g,f.autoplayInterval);t(f.current);};r();e.find(".nav").click(function(v){var u=a(this).parent().children().index(this);n.scrollTo(u);});s.find(".nav_left").click(function(u){if(f.current==1){return false;}n.scrollTo(f.current-1);});s.find(".nav_right").click(function(u){if(f.current==j){return false;}n.scrollTo(f.current+1);});s.find("img").click(function(v){var u=s.width()/2;if(v.pageX<=u){if(f.current>1){n.scrollTo(f.current-1);}}if(v.pageX>=u){if(f.current<j){n.scrollTo(f.current+1);}}});s.find("img,.nav,.nav_left,.nav_right").mouseover(function(){window.clearInterval(c);}).mouseout(function(){c=setInterval(g,f.autoplayInterval);});a(window).resize(function(){s.find(".caption").css({fontSize:s.width()*f.captionFontRatio+"%"});s.find(".slider_nav .nav").css({width:s.width()*f.dotRatio+"px",height:s.width()*f.dotRatio+"px"});});};a.fn.tiksluscarousel=function(c){return this.each(function(){var d=a(this);if(d.data("tiksluscaraousel")){return;}var e=new b(this,c);d.data("tiksluscaraousel",e);});};})(jQuery);